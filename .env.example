# =============================================================================
# Tourism Data Pipeline - Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your actual values
# DO NOT commit .env to version control!

# -----------------------------------------------------------------------------
# Supabase Database Connection
# -----------------------------------------------------------------------------
# Get from: https://supabase.com/dashboard/project/_/settings/database
# Click "Connection string" → "Connection pooling" tab

# Example connection string format:
# postgresql://postgres.ref:[PASSWORD]@aws-0-us-east-1.pooler.supabase.com:6543/postgres

SUPABASE_DB_HOST=db.your-project-ref.supabase.co
SUPABASE_DB_PORT=6543
SUPABASE_DB_NAME=postgres
SUPABASE_DB_USER=postgres.your-project-ref
SUPABASE_DB_PASSWORD=your-database-password

# -----------------------------------------------------------------------------
# Google Cloud Storage Configuration
# -----------------------------------------------------------------------------
# Bucket containing your CSV and JSON data files
GCS_BUCKET_NAME=your-gcs-bucket-name

# Service account credentials (download from GCP Console)
GCS_CREDENTIALS_FILE=./gcs-credentials.json

# File paths within the bucket
GCS_DATASET_PATH=dataset.csv_(DS_Senior).csv
GCS_MAPPINGS_PATH=mappings.json_(DS_Senior).json

# -----------------------------------------------------------------------------
# Dagster Configuration
# -----------------------------------------------------------------------------
# Port for Dagster web UI
DAGSTER_PORT=3001

# -----------------------------------------------------------------------------
# OpenAI Configuration
# -----------------------------------------------------------------------------
OPENAI_API_KEY=sk-...
OPENAI_MOPENAI_TRANSLATION_MODELODEL=gpt-5-mini # Optional, default is gpt-5-mini
TRANSLATION_BATCH_SIZE=100 # Optional, default is 100

# =============================================================================
# Setup Instructions
# =============================================================================
# 1. Copy this file: Copy-Item .env.example .env
# 2. Create Supabase project: https://supabase.com/dashboard
# 3. Get API keys from: Settings → API
# 4. Get database credentials from: Settings → Database
# 5. Create GCS bucket and upload data files
# 6. Download GCS service account JSON key
# 7. Fill in all values above
# 8. Run: docker-compose up -d

# =============================================================================
# Security Best Practices
# =============================================================================
# ✓ Never commit .env to git (already in .gitignore)
# ✓ Keep SUPABASE_SERVICE_ROLE_KEY secret (has full admin access)
# ✓ Use connection pooling (port 6543) for better performance
# ✓ Store gcs-credentials.json securely (also in .gitignore)
# ✓ Rotate credentials regularly
# ✓ Use different credentials per environment (dev/staging/prod)
